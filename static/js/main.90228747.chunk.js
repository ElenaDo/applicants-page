(this["webpackJsonpapplicants-page"]=this["webpackJsonpapplicants-page"]||[]).push([[0],{10:function(e,t,n){e.exports={groupTitle:"ApplicantList_groupTitle__IXm_o",groupContent:"ApplicantList_groupContent__1vegd"}},11:function(e,t,n){e.exports={statList:"Stats_statList__2R4sm",statItem:"Stats_statItem__26GGq"}},12:function(e,t,n){e.exports={error:"Error_error__3jH-M",btn:"Error_btn__2wp-g"}},24:function(e){e.exports=JSON.parse('{"a":"https://elenado.github.io/applicants-page/"}')},26:function(e,t,n){e.exports={loading:"Loading_loading__g2fnR",blink:"Loading_blink__2bkm-"}},32:function(e,t,n){},4:function(e,t,n){e.exports={card:"ApplicantCard_card__Q0TZt",initials:"ApplicantCard_initials__5HL92",highlight:"ApplicantCard_highlight__DRAqc",bid:"ApplicantCard_bid__2MFMI"}},5:function(e,t,n){e.exports={backIcon:"App_backIcon__kEZIz",buttonLink:"App_buttonLink__2pJQm",upperPanel:"App_upperPanel__27lic"}},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(21),i=n.n(r),l=(n(32),n(8)),o=n.n(l),p=n(22),u=n(3),d=n(23),j=n.n(d),b=n(24),h=(n(52),n(5)),m=n.n(h),O=n(25),f=n.n(O),x=n(9),_=n.n(x),v=n(4),g=n.n(v);var N=function(e){var t,n,c=e.applicant;return Object(a.jsxs)("div",{className:g.a.card,children:[Object(a.jsx)("div",{className:"".concat(g.a.initials," text-bold"),style:function(){var e=c.firstName+c.lastName;return{color:_()({luminosity:"dark",seed:e}),backgroundColor:_()({luminosity:"light",seed:e})}}(),children:Object(a.jsx)("p",{children:function(){var e=c.firstName,t=c.lastName;return"".concat(e[0]).concat(t[0])}()})}),Object(a.jsx)("p",{className:"text-bold",children:"".concat(c.firstName," ").concat(c.lastName)}),Object(a.jsx)("p",{children:c.phoneNumber}),Object(a.jsx)("p",{children:c.email}),c.appointmentDate&&Object(a.jsxs)("p",{className:"".concat(g.a.highlight," text-bold text-upper "),children:[Object(a.jsx)("span",{children:"Appointment_Set"===c.status?"Appointment":"Viewed"}),Object(a.jsx)("span",{children:" "}),Object(a.jsx)("span",{className:"no-break",children:(n=c.appointmentDate,f()(n).format("DD MMMM HH:mm"))})]}),c.bid&&Object(a.jsxs)("p",{className:"".concat(g.a.highlight," ").concat(g.a.bid," text-bold"),children:["Bid",Object(a.jsx)("span",{children:" "}),(t=c.bid,(0,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",notation:"compact"}).format)(t))]})]})};function k(e){return e.replace("_"," ")}function A(e){return e.reduce((function(e,t){return e[t.status].push(t),e}),{Appointment_Set:[],Property_Viewed:[],Interested:[],Offer_Accepted:[]})}var w=n(10),y=n.n(w);var S=function(e){var t=A(e.applicants);return Object(a.jsx)("div",{children:Object.keys(t).map((function(e){return t[e].length>0&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{className:y.a.groupTitle,children:[k(e),Object(a.jsx)("span",{children:" "}),"(",t[e].length,")"]}),Object(a.jsx)("div",{className:y.a.groupContent,children:t[e].map((function(e){return Object(a.jsx)(N,{applicant:e},e.id)}))})]},e)}))})},C=n(6),L=n.n(C);var I=function(e){var t=e.applicants,n=e.setFiltered,s=Object(c.useState)(""),r=Object(u.a)(s,2),i=r[0],l=r[1],o=Object(c.useState)(""),p=Object(u.a)(o,2),d=p[0],j=p[1];function b(e,t){return e.toLowerCase().includes(t.toLocaleLowerCase())}return Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("search");"string"===typeof e&&l(e)}),[]),Object(c.useEffect)((function(){var e=t.filter((function(e){var t,n;return(b(e.firstName,i)||b(e.lastName,i)||b(e.email,i))&&(t=e,""===(n=d)||t.status===n)}));n(e)}),[i,d,t,n]),Object(a.jsx)("div",{className:L.a.filterBlock,children:Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(a.jsx)("span",{className:L.a.searchWrapper,children:Object(a.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;l(t),window.history.replaceState(null,"",t?"/applicants-page/?search=".concat(t):"/")},placeholder:"Search for applicant"})}),Object(a.jsxs)("div",{className:L.a.selectors,children:[Object(a.jsxs)("select",{children:[Object(a.jsx)("option",{value:"",children:"Bids"}),Object(a.jsx)("option",{value:"withBids",children:"With bids"})]}),Object(a.jsxs)("select",{onChange:function(e){var t=e.target.value;j(t)},value:d,children:[Object(a.jsx)("option",{value:"",children:"Status"}),["Interested","Appointment_Set","Property_Viewed","Offer_Accepted"].map((function(e){return Object(a.jsx)("option",{value:e,children:k(e)},e)}))]})]})]})})},F=n(11),T=n.n(F);var D=function(e){var t=e.applicants,n=A(t),c=[{name:"Total",value:t.length},{name:"New",value:n.Interested.length},{name:"Viewed",value:n.Property_Viewed.length},{name:"Appointment",value:n.Appointment_Set.length},{name:"Others",value:n.Offer_Accepted.length}];return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:T.a.statList,children:c.map((function(e){return Object(a.jsxs)("div",{className:T.a.statItem,children:[Object(a.jsx)("p",{className:"text-bold",children:e.value}),Object(a.jsx)("p",{children:e.name})]},e.name)}))})})},E=n(26),M=n.n(E);var P=function(){return Object(a.jsx)("div",{className:M.a.loading,children:Object(a.jsx)("span",{children:"Loading..."})})},B=n(12),J=n.n(B);var R=function(e){var t=e.message,n=e.reload;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:J.a.error,children:t}),Object(a.jsx)("button",{className:J.a.btn,type:"button",onClick:n,children:"Try again"})]})},V=n.p+"static/media/back.043a6139.svg";var H=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(n),i=Object(u.a)(r,2),l=i[0],d=i[1],h=Object(c.useState)(!1),O=Object(u.a)(h,2),f=O[0],x=O[1],_=Object(c.useState)(""),v=Object(u.a)(_,2),g=v[0],N=v[1];function k(){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),N(""),e.prev=2,e.next=5,new Promise((function(e,t){setTimeout(e,1e3)}));case 5:return!0,t=b.a,"/data/MOCK_DATA.json",e.next=10,j.a.get(t+"/data/MOCK_DATA.json");case 10:n=e.sent,s(n.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),N(e.t0.message);case 17:x(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){k()}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:m.a.upperPanel,children:[Object(a.jsxs)("span",{className:"display-flex",children:[Object(a.jsx)("button",{type:"button",className:"".concat(m.a.buttonLink," ").concat(m.a.backIcon),children:Object(a.jsx)("img",{src:V,alt:"back",className:""})}),Object(a.jsx)("h2",{className:"display-inline-block",children:"Applicants"})]}),Object(a.jsx)(D,{applicants:n})]}),Object(a.jsx)(I,{applicants:n,setFiltered:d}),g&&Object(a.jsx)(R,{message:g,reload:k}),f?Object(a.jsx)(P,{}):Object(a.jsx)(S,{applicants:l})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root")),W()},6:function(e,t,n){e.exports={filterBlock:"Filters_filterBlock__2_JX6",selectors:"Filters_selectors__27Zvk",searchWrapper:"Filters_searchWrapper__1hEGo"}}},[[54,1,2]]]);
//# sourceMappingURL=main.90228747.chunk.js.map